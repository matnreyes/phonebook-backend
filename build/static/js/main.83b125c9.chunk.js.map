{"version":3,"sources":["components/filter.js","components/personform.js","components/message.js","components/persons.js","services/contacts.js","App.js","index.js"],"names":["Filter","value","filter","onChange","PersonForm","submit","nameValue","nameInput","numberValue","numberInput","onSubmit","id","type","Message","message","messageStyle","background","fontSize","fontStyle","borderStyle","borderRadius","padding","marginBottom","isError","color","style","content","Persons","numbers","handleDelete","map","person","name","number","onClick","url","getContacts","axios","get","then","response","data","contactService","addContacts","contactObject","post","deleteContact","contactID","delete","updateContact","put","reponse","App","useState","persons","setPersons","searchResult","setSearchResult","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setMessage","useEffect","contacts","event","target","toUpperCase","includes","preventDefault","nameObject","match","find","window","confirm","updatedContacts","notifObject","setTimeout","catch","error","newContact","concat","contact","parseInt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83b125c9.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, filter}) => (\n    <form>\n        <div>Filter names: <input value={value} onChange={filter}/></div>\n    </form> \n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ submit, nameValue, nameInput, numberValue, numberInput }) => (\n    <form onSubmit={submit}>\n        <div>name: <input value={nameValue} onChange={nameInput}/></div>\n        <div>number: <input value={numberValue} onChange={numberInput}/></div>\n        <div> <button id='submit' type=\"submit\">add</button></div>\n    </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Message = ({message}) => {\n    // Style for Message conmponent\n    const messageStyle = {\n        background: 'lightgrey',\n        fontSize: 20,\n        fontStyle: 'bold',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === null) {\n        return null\n    }\n    message.isError ? messageStyle.color = 'red' : messageStyle.color = 'green'\n\n    return (\n        <div style={messageStyle}>\n            {message.content}\n        </div>\n    )\n}\n\nexport default Message","import React from 'react'\n\nconst Persons = ({numbers, handleDelete }) => (\n    <ul> {numbers.map(person => (\n    <li key={person.id}>{person.name} {person.number}      \n    <button value={person.id} onClick={handleDelete}>delete</button></li>\n    ))}\n    </ul>\n\n)\n\nexport default Persons","import axios from 'axios'\nconst url = '/api/persons'\n\nconst getContacts = () => {\n    const request = axios.get(url)\n    return request.then(response => response.data)\n}\n\nconst addContacts = contactObject => {\n    const request = axios.post(url, contactObject)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = contactID => {\n    const request = axios.delete(`${url}/${contactID}`)\n    return request.then(response => getContacts())\n}\n\nconst updateContact = contactObject => {\n    const request = axios.put(`${url}/${contactObject.id}`, contactObject)\n    return request.then(reponse => getContacts())\n}\n\nconst contactService = { getContacts, addContacts, deleteContact, updateContact }\n\nexport default contactService","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport PersonForm from './components/personform'\nimport Message from './components/message'\nimport Persons from './components/persons'\nimport contactService from './services/contacts'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ searchResult, setSearchResult ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n  // Load person data from server \n  useEffect( () => {\n    contactService\n      .getContacts()\n      .then(contacts => {\n        setPersons(contacts)\n        setSearchResult(contacts)\n      })\n  }, [])\n  \n  // Adds new contact onto server\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    // Update users that are in phonebook already if name entered\n    const match = persons.find(person => person.name.toUpperCase() === newName.toUpperCase())\n    if (match) {\n      const update = window.confirm(`${match.name} already in phonebook. Would you like to update their number?`)\n      if (update) {\n        nameObject.id = match.id\n        contactService\n          .updateContact(nameObject)\n          .then(updatedContacts => {\n            const notifObject = {\n              content: `${newName} has been updated`,\n              isError: false\n            }\n            setMessage(notifObject)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n            setPersons(updatedContacts)\n            setSearchResult(updatedContacts)\n          })\n          .catch(error => {\n            const notifObject = {\n              content: `${newName} does not exist in phonebook anymore`,\n              isError: true\n            }\n            setMessage(notifObject)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n        setNewNumber('')\n        setNewName('')\n      }\n      return\n    }\n    \n    contactService\n      .addContacts(nameObject)\n      .then(newContact => {\n        const notifObject = {\n          content: `${newName} added to phonebook`,\n          isError: false\n        }\n        setMessage(notifObject)\n        setTimeout(() => {\n          setMessage(null)\n        }, 4000)\n        setPersons(persons.concat(newContact))\n        setSearchResult(persons.concat(newContact))\n      })\n      .catch(error => {\n        const errorObject = {\n          content: 'Not enough information provided',\n          isError: true\n        }\n        setMessage(errorObject)\n        setTimeout(() => {\n          setMessage(null)\n        }, 4000)\n      })\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput  = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  // Deletes contacts\n  const handleDelete = (event) => {\n    const contact = persons.find(person => person.id === parseInt(event.target.value))\n    const userChoice = window.confirm(`Are you sure you want to delete ${contact.name}?`)\n    if (!userChoice) {\n      return\n    }\n\n    contactService.deleteContact(contact.id).then(updatedContacts => {\n      const notifObject = {\n        content: `${contact.name} has been deleted`,\n        isError: false\n      }\n      setMessage(notifObject)\n      setTimeout(() => {\n        setMessage(null)\n      }, 4000)\n      setSearchResult(updatedContacts)\n      setPersons(updatedContacts)\n    })\n    .catch(error => {\n      const notifObject = {\n        content: `${contact.name} is already deleted`,\n        isError: true\n      }\n      setMessage(notifObject)\n      setTimeout(() => {\n        setMessage(null)\n      }, 4000)\n      setSearchResult(persons.filter(person => person.id !== contact.id))\n      setPersons(persons.filter(person => person.id !== contact.id))\n    })\n  }\n\n  const searchNames = (event) => {\n    const value = event.target.value\n    setNewSearch(value)\n    setSearchResult(persons.filter(person => person.name.toUpperCase().includes(value.toUpperCase())))\n  }\n\n  return (\n    <div>\n      <Message message={message} />\n      <h2>Phonebook</h2>\n      <Filter value={newSearch} filter={searchNames} />\n      <h2>add a new</h2>\n      <PersonForm submit={addName} nameValue={newName} nameInput={handleNameInput} \n        numberValue={newNumber} numberInput={handleNumberInput} />\n      <h2>Numbers</h2>\n      <Persons numbers={searchResult} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}